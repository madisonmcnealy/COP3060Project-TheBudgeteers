<mxfile host="app.diagrams.net">
  <diagram name="Student Budget UML" id="uml1">
    <mxGraphModel dx="1421" dy="780" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- User Class -->
        <mxCell id="User" value="User&#xa;--------------------&#xa;+ id: UUID&#xa;+ name: String&#xa;+ email: String&#xa;+ passwordHash: String&#xa;+ currencyPreference: String" style="rounded=1;whiteSpace=wrap;strokeColor=#000000;fillColor=#e1f5fe;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="40" y="60" width="220" height="180" as="geometry"/>
        </mxCell>

        <!-- Expense Class -->
        <mxCell id="Expense" value="Expense&#xa;--------------------&#xa;+ id: UUID&#xa;+ userId: UUID&#xa;+ category: Category&#xa;+ amount: Decimal&#xa;+ currency: String&#xa;+ convertedAmount: Decimal&#xa;+ date: DateTime&#xa;+ note: String" style="rounded=1;whiteSpace=wrap;strokeColor=#000000;fillColor=#fff9c4;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="350" y="260" width="260" height="230" as="geometry"/>
        </mxCell>

        <!-- Budget Class -->
        <mxCell id="Budget" value="Budget&#xa;--------------------&#xa;+ id: UUID&#xa;+ userId: UUID&#xa;+ category: Category&#xa;+ amountLimit: Decimal&#xa;+ periodType: PeriodType&#xa;+ startDate: Date&#xa;+ endDate: Date" style="rounded=1;whiteSpace=wrap;strokeColor=#000000;fillColor=#c8e6c9;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="350" y="30" width="260" height="200" as="geometry"/>
        </mxCell>

        <!-- Category Enum -->
        <mxCell id="Category" value="<<Enumeration>> Category&#xa;----------------------&#xa;FOOD&#xa;HOUSING&#xa;BOOKS&#xa;TRANSPORTATION&#xa;ENTERTAINMENT&#xa;UTILITIES" style="rounded=1;whiteSpace=wrap;strokeColor=#000000;fillColor=#ffe0b2;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="700" y="40" width="220" height="210" as="geometry"/>
        </mxCell>

        <!-- PeriodType Enum -->
        <mxCell id="PeriodType" value="<<Enumeration>> PeriodType&#xa;----------------------&#xa;WEEKLY&#xa;MONTHLY" style="rounded=1;whiteSpace=wrap;strokeColor=#000000;fillColor=#ffe0b2;fontSize=14;" vertex="1" parent="1">
          <mxGeometry x="700" y="300" width="220" height="120" as="geometry"/>
        </mxCell>

        <!-- Relationships -->
        <mxCell id="UserToExpense" style="endArrow=block;startArrow=none;dashed=0;" edge="1" parent="1" source="User" target="Expense">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="UserToBudget" style="endArrow=block;startArrow=none;dashed=0;" edge="1" parent="1" source="User" target="Budget">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="BudgetToExpense" value="covers expense period + category" style="endArrow=open;dashed=1;" edge="1" parent="1" source="Budget" target="Expense">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
